<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>International Trade and International Finance - 10&nbsp; The Federal Reserve</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./assignment_1.html" rel="next">
<link href="./lecture_9.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lecture_16.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Federal Reserve</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">International Trade and International Finance</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Basics of International Economics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to International Trade</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Reasons of International Trade</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">International Trade Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The Instruments of Trade Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The Political Economy of Trade Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Trade Policy in Developing Countries: part A</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Trade Policy in Developing Countries: part B</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Globalization, Trade and the Environment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture_16.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Federal Reserve</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 6</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">&gt;&gt;&gt; Assignment 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#in-nearly-every-society-some-kind-of-money-has-evolved-to-make-trade-easier" id="toc-in-nearly-every-society-some-kind-of-money-has-evolved-to-make-trade-easier" class="nav-link active" data-scroll-target="#in-nearly-every-society-some-kind-of-money-has-evolved-to-make-trade-easier"><span class="header-section-number">10.1</span> In nearly every society, some kind of money has evolved to make trade easier</a></li>
  <li><a href="#why-that-dollar-in-your-pocket-is-more-than-just-a-piece-of-paper" id="toc-why-that-dollar-in-your-pocket-is-more-than-just-a-piece-of-paper" class="nav-link" data-scroll-target="#why-that-dollar-in-your-pocket-is-more-than-just-a-piece-of-paper"><span class="header-section-number">10.2</span> Why that dollar in your pocket is more than just a piece of paper</a></li>
  <li><a href="#modern-money-is-a-confidence-game" id="toc-modern-money-is-a-confidence-game" class="nav-link" data-scroll-target="#modern-money-is-a-confidence-game"><span class="header-section-number">10.3</span> Modern money is a confidence game</a></li>
  <li><a href="#a-case-of-usa" id="toc-a-case-of-usa" class="nav-link" data-scroll-target="#a-case-of-usa"><span class="header-section-number">10.4</span> A case of USA</a>
  <ul class="collapse">
  <li><a href="#some-paradox" id="toc-some-paradox" class="nav-link" data-scroll-target="#some-paradox"><span class="header-section-number">10.4.1</span> Some paradox</a></li>
  </ul></li>
  <li><a href="#where-does-the-fed-derive-this-extraordinary-power-over-interest-rates" id="toc-where-does-the-fed-derive-this-extraordinary-power-over-interest-rates" class="nav-link" data-scroll-target="#where-does-the-fed-derive-this-extraordinary-power-over-interest-rates"><span class="header-section-number">10.5</span> Where does the Fed derive this extraordinary power over interest rates?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Federal Reserve</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="in-nearly-every-society-some-kind-of-money-has-evolved-to-make-trade-easier" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="in-nearly-every-society-some-kind-of-money-has-evolved-to-make-trade-easier"><span class="header-section-number">10.1</span> In nearly every society, some kind of money has evolved to make trade easier</h2>
<ul>
<li><p>The word “salary” comes from the wages paid to Roman soldiers, who were paid in sacks of sal—salt. Any medium of exchange—whether it is a gold coin, a whale tooth, or an American dollar—serves the same basic purposes.</p></li>
<li><p>First, it serves as a means of exchange, so that I might enjoy pork chops for dinner tonight even though the butcher has no interest in buying this book.</p></li>
<li><p>Second, it serves as a unit of account, so that the cost of all kinds of goods and services can be measured and compared using one scale.</p></li>
<li><p>Third, money must be portable and durable. Neither bowling balls nor rose petals would serve the purpose.</p></li>
<li><p>Last, money must be relatively scarce so that it can serve as a store of value.</p></li>
<li><p>Clever people will always find a medium of exchange that works. Cigarettes long served as the medium of exchange in prisons, where cash is banned. It doesn’t matter whether you smoke; cigarettes have value as long as enough other inmates smoke.</p></li>
<li><p>For much of American history, commerce was conducted with paper currency backed by precious metals. Prior to the twentieth century, private banks issued their own money. In 1913, the U.S. government banned private money and became the sole provider of currency.</p></li>
<li><p>The basic idea did not change. Whether money was public or private, paper currency derived its value from the fact that it could be redeemed for a set quantity of gold or silver, either from a bank or from the government.</p></li>
<li><p>Then something strange happened. In 1971, the United States permanently went off the gold standard. At that point, every paper dollar became redeemable for . . . nothing.</p></li>
</ul>
</section>
<section id="why-that-dollar-in-your-pocket-is-more-than-just-a-piece-of-paper" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="why-that-dollar-in-your-pocket-is-more-than-just-a-piece-of-paper"><span class="header-section-number">10.2</span> Why that dollar in your pocket is more than just a piece of paper</h2>
<ul>
<li><p>Examine that wad of USD 100 bills in your wallet. (If necessary, USD 1 bills can be substituted instead.) Those bills are just paper. You can’t eat them, you can’t drink them, you can’t smoke them, and, most important, you can’t take them to the government and demand anything in return. They have no intrinsic value. And that is true of nearly all the world’s currencies.</p></li>
<li><p>Left alone on a deserted island with $100 million, you would quickly perish. On the other hand, life would be good if you were rescued and could take the cash with you. Therein lies the value of modern currency: It has purchasing power.</p></li>
<li><p>Dollars have value because people peddling real things—food, books, pedicures—will accept them. And people peddling real things will accept dollars because they are confident that other people peddling other real things will accept them, too.</p></li>
<li><p>A dollar is a piece of paper whose value derives solely from our confidence that we will be able to use it to buy something we need in the future.</p></li>
</ul>
</section>
<section id="modern-money-is-a-confidence-game" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="modern-money-is-a-confidence-game"><span class="header-section-number">10.3</span> Modern money is a confidence game</h2>
<ul>
<li><p>To give you some sense of how modern money is a confidence game, consider a bizarre phenomenon in India.</p></li>
<li><p>Most Indians involved in commerce—shopkeepers, taxi drivers, etc.—will not accept a torn, crumpled, or overly soiled rupee note. Since other Indians know that many of their countrymen will not accept torn notes, they will not accept them either.</p></li>
<li><p>Finally, when tourists arrive in the country, they quickly learn to accept only intact bills, lest they be stuck with the torn ones.</p></li>
<li><p>The whole process is utterly irrational, since the Indian Central Bank considers any note with a serial number—torn, dirty, crumpled, or otherwise—to be legal tender. Any bank will exchange torn rupees for crisp new ones.</p></li>
<li><p>That doesn’t matter; rational people refuse legal tender because they believe that it might not be accepted by someone else. The whole bizarre phenomenon underscores the fact that our faith in paper currency is predicated on the faith that others place in the same paper.</p></li>
</ul>
</section>
<section id="a-case-of-usa" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="a-case-of-usa"><span class="header-section-number">10.4</span> A case of USA</h2>
<ul>
<li><p>Sometimes simple statements speak loudly. On September 11, 2001, hours after the terrorist attacks on the United States, the Federal Reserve issued the following statement: “The Federal Reserve System is open and operating. The discount window is available to meet liquidity needs.”</p></li>
<li><p>How exactly does an inelegant two-sentence statement have such a profound effect on the world’s largest economy—indeed, on the whole global economy?</p></li>
<li><p>The Federal Reserve has tools with more direct impact on the global economy than any other institution in the world, public or private.</p></li>
<li><p>From where does the Federal Reserve, an institution that is not directly accountable to the voting public, derive such power? And how does that power affect the lives of everyday Americans?</p></li>
<li><p>The answer to all those questions is the same: The Federal Reserve controls the money supply and therefore the credit tap for the economy.</p></li>
<li><p>When that tap is open wide, interest rates fall and we spend more freely on things that require borrowed money—everything from new cars to new manufacturing plants. Thus, the Fed can use monetary policy to counteract economic downturns (or prevent them in the first place). And it can inject money into the financial system after sudden shocks, such as the 1987 stock market crash or the terrorist attacks of September 11 or the bursting of the American real estate bubble, when consumers and firms might otherwise freeze in place and stop spending.</p></li>
<li><p>Or the Fed can tighten the tap by raising interest rates. When the cost of borrowed funds goes up, our spending slows. It is an awesome power.</p></li>
</ul>
<section id="some-paradox" class="level3" data-number="10.4.1">
<h3 data-number="10.4.1" class="anchored" data-anchor-id="some-paradox"><span class="header-section-number">10.4.1</span> Some paradox</h3>
<ul>
<li><p>If the Fed can make the economy grow faster by lowering interest rates, then presumably lower interest rates are always better. Indeed, why should there be any limit to the rate at which the economy can grow?</p></li>
<li><p>If we begin to spend more freely when rates are cut from 7 percent to 5 percent, why stop there? If there are still people without jobs and others without new cars, then let’s press on to 3 percent, or even 1 percent. New money for everyone!</p></li>
<li><p>Sadly, there are limits to how fast any economy can grow. If low interest rates, or “easy money,” causes consumers to demand 5 percent more new Jeep Cherokees than they purchased last year, then Chrysler must expand production by 5 percent. That means hiring more workers and buying more steel, glass, electrical components, etc. At some point, it becomes difficult or impossible for Chrysler to find these new inputs, particularly qualified workers. At that point, the company simply cannot make enough Jeep Cherokees to satisfy consumer demand; instead, the company begins to raise prices. Meanwhile, autoworkers recognize that Chrysler is desperate for labor, and the union demands higher wages.</p></li>
</ul>
</section>
</section>
<section id="where-does-the-fed-derive-this-extraordinary-power-over-interest-rates" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="where-does-the-fed-derive-this-extraordinary-power-over-interest-rates"><span class="header-section-number">10.5</span> Where does the Fed derive this extraordinary power over interest rates?</h2>
<ul>
<li><p>After all, commercial banks are private entities. The Federal Reserve cannot force Citibank to raise or lower the rates it charges consumers for auto loans and home mortgages. Rather, the process is indirect.</p></li>
<li><p>The interest rate is really just a rental rate for capital, or the “price of money.” The Fed controls America’s money supply. For now, recognize that capital is no different from apartments: The greater the supply, the cheaper the rent.</p></li>
<li><p>The Fed moves interest rates by making changes in the quantity of funds available to commercial banks. If banks are awash with money, then interest rates must be relatively low to attract borrowers for all the available funds.</p></li>
<li><p>When capital is scarce, the opposite will be true: Banks can charge higher interest rates and still attract enough borrowers for all available funds. It is supply and demand, with the Fed controlling the supply.</p></li>
</ul>
<p><strong>Reference: Wheelan, C (2002). Naked economics : Undressing the dismal science. New York : Norton</strong></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lecture_9.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Globalization, Trade and the Environment</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./assignment_1.html" class="pagination-link">
        <span class="nav-page-text">&gt;&gt;&gt; Assignment 1</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>